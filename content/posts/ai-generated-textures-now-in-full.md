title: AI Generated Textures - now in full
date: 2022-11-04
slug: ai-generated-textures-now-in-full

<p>We discussed <a href="https://ferguskidd.com/dall-e-2-2/">AI generated textures using DALL-E-2</a> before. However there have been two significant updates.</p><ol><li>The <a href="https://openai.com/blog/dall-e-api-now-available-in-public-beta/">Dall-E-2 API</a> is finally here!</li><li>I figured out how to easily get from a flat texture to a full 3D one using <a href="https://boundingboxsoftware.com/materialize/">Materialize</a>.</li></ol><p>The Dall-E-2 API make it infinitely easier to modify image in the way we meed to. Instead of manually doing all the image generation, we can thread it into a single python operation. </p><div class="kg-card kg-callout-card kg-callout-card-blue"><div class="kg-callout-emoji">ðŸ’¡</div><div class="kg-callout-text">Checkout the <a href="https://github.com/FergusKidd/Seamless-Texture-Generation-with-DALL-E-2">GitHub repo</a> and try it yourself</div></div><p>I'll show you step by step what we generate. First let's ask through the API for a texture we might want to see. In this case I'm asking for a yellow brick texture. </p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="__GHOST_URL__/content/images/2022/11/ddf54043-fe11-4336-83ea-dbe7943b27f3.png" class="kg-image" alt loading="lazy" width="389" height="389"><figcaption>DALL-E-2 generated texture of a yellow brick wall</figcaption></figure><p>Pretty good start. The problem is if we tile this nicely over a large 3D surface, it won't look good because the edges won't match up. It 'tiles' horribly when we replicate the image many times. These always will. Let's move the 'seams' to the middle so we can see it better.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="__GHOST_URL__/content/images/2022/11/0b83c4c4-1504-4638-acab-53380fb3d7a2.png" class="kg-image" alt loading="lazy" width="389" height="389"><figcaption>Seams reorganised to the middle</figcaption></figure><p>All we've done here is move the outside in, by chopping the image into 4 and swapping the positions. Now we can see the seam in the middle as if we were looking at 4 tiled images. It's not the worst seam ever, DALL-E-2 has done a very good job, but we can easily tell it's not right.</p><p>The next step we can do is to create an alpha mask on this image as we know where the seam is, it's in a nice cross shape in the centre.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="__GHOST_URL__/content/images/2022/11/7bcff35f-8758-4c15-90a7-bf6197faa669.png" class="kg-image" alt loading="lazy" width="389" height="389"><figcaption>Alpha mask for the seams</figcaption></figure><p>This is a representation of the mask, with areas to keep showing through (in blue_ and areas to re-do in purple. So what can we do with this? Well the great thing about the DALL-E-2 API, is that we can also edit images. Sending the original image with the seams in the middle off with this mask and the original prompt will allow us to regenerate the seam area for hopefully a lovely smooth transition.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="__GHOST_URL__/content/images/2022/11/Output_texture.png" class="kg-image" alt loading="lazy" width="1024" height="1024" srcset="__GHOST_URL__/content/images/size/w600/2022/11/Output_texture.png 600w, __GHOST_URL__/content/images/size/w1000/2022/11/Output_texture.png 1000w, __GHOST_URL__/content/images/2022/11/Output_texture.png 1024w" sizes="(min-width: 720px) 720px"><figcaption>The second output from DALL-E-2, a now seamless texture</figcaption></figure><p>And there we have it. You can clearly see some new artefacts like the blue smudge on the brick in the middle, where the mask was. DALL-E-2 has regenerated the gaps we marked out, so now the image is pretty much seamless and tile-able. Great!</p><h2 id="lets-make-it-3d">Let's make it 3D</h2><p>For this to really be useable it doesn't just need to be seamless, it needs to have depth, roughness, metallic layers. All sorts of additional information about how light would interact with this texture in the real world, so we can better simulate it in a render engine. I previously thought this would be a manual and labour intensive process until i found <a href="https://boundingboxsoftware.com/materialize/">Materialzie</a> from Bounding Box Software. This FREE tool takes 2D flat textures from a photo, or in our case AI, and makes them pop by generating the other information we need.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="__GHOST_URL__/content/images/2022/11/Screenshot-2022-11-04-at-16.31.18.png" class="kg-image" alt loading="lazy" width="2000" height="414" srcset="__GHOST_URL__/content/images/size/w600/2022/11/Screenshot-2022-11-04-at-16.31.18.png 600w, __GHOST_URL__/content/images/size/w1000/2022/11/Screenshot-2022-11-04-at-16.31.18.png 1000w, __GHOST_URL__/content/images/size/w1600/2022/11/Screenshot-2022-11-04-at-16.31.18.png 1600w, __GHOST_URL__/content/images/2022/11/Screenshot-2022-11-04-at-16.31.18.png 2202w" sizes="(min-width: 720px) 720px"><figcaption>Some of the layers made using Materialize</figcaption></figure><p>This is a huge improvement on our flat tile-able image. Let's have a look at what that looks like rendered.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="__GHOST_URL__/content/images/2022/11/Yellow-Brick-Cube.jpg" class="kg-image" alt loading="lazy" width="1445" height="1273" srcset="__GHOST_URL__/content/images/size/w600/2022/11/Yellow-Brick-Cube.jpg 600w, __GHOST_URL__/content/images/size/w1000/2022/11/Yellow-Brick-Cube.jpg 1000w, __GHOST_URL__/content/images/2022/11/Yellow-Brick-Cube.jpg 1445w" sizes="(min-width: 720px) 720px"><figcaption>The now 3D texture rendered with lighting and depth</figcaption></figure><p>And there we go! A now usable seamless 3D texture, completely AI generated. This opens up a word of opportunities for amazing new on-demand texture rendering!</p><div class="kg-card kg-callout-card kg-callout-card-grey"><div class="kg-callout-emoji">ðŸ’¡</div><div class="kg-callout-text">The other nice thing about using the API is that the images don't seem to include the usual watermarking in the corner</div></div><p>Here's some more example outputs just for fun:</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="__GHOST_URL__/content/images/2022/11/3eea4cd5-2316-45b1-acf4-4686ca56dbed.png" class="kg-image" alt loading="lazy" width="1570" height="498" srcset="__GHOST_URL__/content/images/size/w600/2022/11/3eea4cd5-2316-45b1-acf4-4686ca56dbed.png 600w, __GHOST_URL__/content/images/size/w1000/2022/11/3eea4cd5-2316-45b1-acf4-4686ca56dbed.png 1000w, __GHOST_URL__/content/images/2022/11/3eea4cd5-2316-45b1-acf4-4686ca56dbed.png 1570w" sizes="(min-width: 720px) 720px"><figcaption>White fur</figcaption></figure><figure class="kg-card kg-image-card kg-card-hascaption"><img src="__GHOST_URL__/content/images/2022/11/70007d2d-8e5b-4703-930d-32b6c7891f3c.png" class="kg-image" alt loading="lazy" width="1570" height="498" srcset="__GHOST_URL__/content/images/size/w600/2022/11/70007d2d-8e5b-4703-930d-32b6c7891f3c.png 600w, __GHOST_URL__/content/images/size/w1000/2022/11/70007d2d-8e5b-4703-930d-32b6c7891f3c.png 1000w, __GHOST_URL__/content/images/2022/11/70007d2d-8e5b-4703-930d-32b6c7891f3c.png 1570w" sizes="(min-width: 720px) 720px"><figcaption>An Alien rocky planet surface</figcaption></figure><p>Notice we may want to do some colour stabilisation accross the segments on these in the future.</p><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2022/11/9238e4bf-e371-4136-8dd9-ced98cd7f9a0.png" class="kg-image" alt loading="lazy" width="1570" height="498" srcset="__GHOST_URL__/content/images/size/w600/2022/11/9238e4bf-e371-4136-8dd9-ced98cd7f9a0.png 600w, __GHOST_URL__/content/images/size/w1000/2022/11/9238e4bf-e371-4136-8dd9-ced98cd7f9a0.png 1000w, __GHOST_URL__/content/images/2022/11/9238e4bf-e371-4136-8dd9-ced98cd7f9a0.png 1570w" sizes="(min-width: 720px) 720px"></figure><p>A good example of how things with regular patterns or directionality can go very wrong very quickly...</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="__GHOST_URL__/content/images/2022/11/97c61a59-95c0-4c50-9c05-391c7879ccd5.png" class="kg-image" alt loading="lazy" width="1570" height="498" srcset="__GHOST_URL__/content/images/size/w600/2022/11/97c61a59-95c0-4c50-9c05-391c7879ccd5.png 600w, __GHOST_URL__/content/images/size/w1000/2022/11/97c61a59-95c0-4c50-9c05-391c7879ccd5.png 1000w, __GHOST_URL__/content/images/2022/11/97c61a59-95c0-4c50-9c05-391c7879ccd5.png 1570w" sizes="(min-width: 720px) 720px"><figcaption>Grass</figcaption></figure>
